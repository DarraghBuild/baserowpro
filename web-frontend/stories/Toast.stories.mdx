import { Meta, Story, Props, Canvas } from '@storybook/addon-docs/blocks'
import { config, withDesign } from 'storybook-addon-designs'
import { action } from '@storybook/addon-actions'

import Toast from '@baserow/modules/core/components/toasts/Toast'
import ButtonText from '@baserow/modules/core/components/ButtonText'

<Meta
    title="Baserow/Toasts & Alerts/Toasts"
    component={Toast}
    decorators={[withDesign]}
    argTypes={{
        default: {
            defaultValue:
                'Lorem ipsum dolor sit amet consectetur adipisicing elit. Aliquid pariatur, ipsum similique veniam.',
        },
        type: {
            control: {
                type: 'select',
                options: [
                    'info-neutral',
                    'info-primary',
                    'warning',
                    'error',
                    'success',
                    'loading',
                ],
            },
        },
        position: {
            control: {
                type: 'radio',
                options: ['top', 'bottom'],
            },
        },
    }}
/>

# Toast

export const Template = (args, { argTypes }) => ({
    components: { Toast, ButtonText },
    props: Object.keys(argTypes),
    template: `
    <Toast v-bind="$props">
        <template v-if="${'title' in args}"  v-slot:title>${
        args.title
    }</template>
        <template v-slot>${args.default}</template>
        <template v-if="${'actions' in args}" v-slot:actions>${
        args.actions
    }</template>
    </Toast>
    `,
})

export const designConfig = {
    type: 'figma',
    url: 'https://www.figma.com/file/W7R2rQW7ohsZMeHRfEcPFW/Design-Library?node-id=53%3A21&mode=dev',
}

<Canvas>
    <Story
        name="Info primary"
        args={{
            type: 'info-primary',
            title: 'We’ve just released a new feature',
            icon: 'settings',
            actions:
                '<ButtonText size="small">View</ButtonText><ButtonText size="small">Dismiss</ButtonText>',
        }}
        parameters={{
            design: config(designConfig),
        }}
    >
        {Template.bind({})}
    </Story>
    <Story
        name="Info neutral"
        args={{
            type: 'info-neutral',
            title: 'We’ve just released a new feature',
            icon: 'settings',
            actions:
                '<ButtonText size="small">View</ButtonText><ButtonText size="small">Dismiss</ButtonText>',
        }}
        parameters={{
            design: config(designConfig),
        }}
    >
        {Template.bind({})}
    </Story>
    <Story
        name="Warning"
        args={{
            type: 'warning',
            title: 'Database has been modified',
            icon: 'database-restore',
            actions: '<ButtonText size="small">Undo</ButtonText>',
        }}
        parameters={{
            design: config(designConfig),
        }}
    >
        {Template.bind({})}
    </Story>
    <Story
        name="Error"
        args={{
            type: 'error',
            title: 'Database has been deleted',
            icon: 'db-error',
            actions: '<ButtonText size="small">Undo</ButtonText>',
        }}
        parameters={{
            design: config(designConfig),
        }}
    >
        {Template.bind({})}
    </Story>
    <Story
        name="Success"
        args={{
            type: 'success',
            title: 'Successfully updated profile',
            icon: 'db-check',
            actions:
                '<ButtonText size="small">Dismiss</ButtonText><ButtonText size="small">View changes</ButtonText>',
        }}
        parameters={{
            design: config(designConfig),
        }}
    >
        {Template.bind({})}
    </Story>
    <Story
        name="No type or icon"
        args={{
            title: 'Updates have been made to your profile',
            actions:
                '<ButtonText size="small">Dismiss</ButtonText><ButtonText size="small">View changes</ButtonText>',
        }}
        parameters={{
            design: config(designConfig),
        }}
    >
        {Template.bind({})}
    </Story>
    <Story
        name="Loading"
        args={{
            type: 'loading',
            title: 'Loading...',
        }}
        parameters={{
            design: config(designConfig),
        }}
    >
        {Template.bind({})}
    </Story>
</Canvas>

## Example

```javascript
<Toast type="success">
    <template #title>Updates have been made to your profile</template>
    <span>Lorem ipsum dolor sit amet consectetur adipisicing elit. Aliquid pariatur, ipsum similique veniam.<span>
    <template #actions><ButtonText size="small">Dismiss</ButtonText><ButtonText size="small">View changes</ButtonText></template>
</Toast>
```

## Props

<Props of={Toast} />
